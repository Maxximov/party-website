<div class="container h-100">
  <div class="row h-100 justify-content-center align-items-center">
    <div class="col-10 col-md-10 col-lg-10">
      <form  id="edit" class="items-form" action="/party/edit" name="{{_id}}" method="post">
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputItem">Party name</label>
            <input type="text" name="partyname" class="form-control" id="inputItem" />
          </div> 
          <div class="form-group col-md-6">
            <label for="inputItem">Location</label>
            <input type="text" name="location" class="form-control" id="inputLocation" />
          </div> 
          
        </div>
        <div class="form-row">
          <div class="form-group col-md-6">
            <label for="inputStartAt">Starts At</label>
            <input type="text" name="startsat" class="form-control" id="inputStartAt" />
          </div>
          <div class="form-group col-md-6">
            <label for="inputEndAt">Ends At</label>
            <input type="text" name="endsat" class="form-control" id="inputEndAt" />
          </div>
        </div>
        <div class="form-group">
          <label for="description">Description</label>
          <textarea class="form-control" name="description" id="description" rows="3"></textarea>
        </div>
        <button type="submit" href="/account" class="btn btn-primary">Edit a party</button>
      </form>
    </div>
  </div>
</div>
<script>
let form = document.getElementById('edit');
let item = document.querySelector('#inputItem');
let mylocation = document.querySelector('#inputLocation');
let startat = document.querySelector('#inputStartAt');
let endat = document.querySelector('#inputEndAt');
let desc = document.querySelector('#description');

form.addEventListener('submit', async (e) => {
  e.preventDefault()
console.log(item.value)
  let response = await fetch('/party/edit', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json;charset=utf-8'
    },
    body: JSON.stringify({
     partyname: item.value,
     location: mylocation.value, 
     startat: startat.value, 
     endat: endat.value, 
     desc: desc.value, 
     _id: form.name})
  })
  .then (( ) => window.location = '/account')
})
</script>

